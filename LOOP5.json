{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Loop Dashboard Chart",
  "title": {
    "text": "",
    "text": "Trade in Goods (T): WW: Exports: BOP: CP: SA",
    "subtitle": "Source: ONS",
    "anchor": "start"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/RaimanKrishna/raimankrishna.github.io/refs/heads/main/LQCT%20(3).json",
    "format": {
      "type": "json",
      "property": "years"
    }
  },
  "width": 300,
  "height": 225,
  "mark": {
    "type": "line",
    "point": true
  },
  "transform": [
    {
      "filter": "datum.value !== null && datum.value !== ''"  // Ensure non-null and non-empty values
    },
    {
      "calculate": "toNumber(datum.value)",  // Convert value from string to number
      "as": "value_num"
    }
  ],
  "encoding": {
    "x": {
      "field": "date",
      "type": "temporal",
      "title": "Year",
      "axis": {
        "grid": false,
        "labelAngle": -45  // Rotate labels for better readability
      }
    },
    "y": {
      "field": "value_num",
      "type": "quantitative",
      "title": "Â£m",  // Y-axis label for clarity
      "axis": {
        "grid": false
      }
    },
    "color": {
      "value": "#1A73E8"
    }
  },
  "config": {
    "background": "#f9f9f9",
    "title": {
      "fontSize": 11,
      "font": "sans-serif",
      "anchor": "start",
      "color": "#333"
    },
    "axis": {
      "labelFontSize": 10,
      "titleFontSize": 10,
      "titleFont": "sans-serif",
      "labelFont": "sans-serif",
      "labelColor": "#333",
      "titleColor": "#333"
    }
  }
}
